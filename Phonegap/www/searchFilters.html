<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <link type="text/css" rel="stylesheet" href="css/style.css" />
   <link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.css" />
	<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.js"></script>
<script type="text/javascript" src="Accessibility/Accessibility.js"></script>
<script type="text/javascript" src="idle.js"></script>

</head>
	<body onload ="testing2()">
	<script>
	//Init storage
	var storageDefaults = {"locVar": "Dundee", "industryVar": "", "hoursVar": "0", "radiusVar": "10"};
	var industryArray = ["Accountancy", "Actuarial", "Admin", "Banking", "Construction", "Customer Service", "Education", "Energy", "Engineering ", "Estate Agency", "Financial", "Insurance", "Health", "Hospitality", "Human Resources", "IT ", "Journalism", "Legal", "Tourism", "Logistics", "Manufacturing", "Management ", "Marketing", "Media", "Automotive", "Multilingual", "Purchasing ", "Quantity surveying", "Retail", "Sales", "Science", "Security", "Social Care", "Teaching", "Training", "Transport"];

$(function() {
  var options = '';
  for (var i = 0; i < industryArray.length; i++) {
      options += '<option value="' + industryArray[i] + '">' + industryArray[i] + '</option>';
  }
  $('#industryList').html(options);
});

	$.each(storageDefaults,
			function(k, v){
				if (localStorage.getItem(k) === null)
					localStorage.setItem(k, storageDefaults[k]);
	})
	
	var idlecounter = 0;
	var appTimeStr = localStorage.appTime
	var appCounter = parseInt(appTimeStr);
	$(document).ready(function ()
	{
		$('#loc').val(localStorage.locVar);
	});
	
	function Search()
	{
		
		var industryValue = $( "#industryList" ).val() || [];
		if(industryValue.length === 0){
			alert("Select an industry");
			return;
		}
		
		localStorage.industryVar = industryValue;
		localStorage.radiusVar = $('#RadiusSlide').val();
		
		if(localStorage.hoursVar)
			{
			window.open("searchJobs.html")
			}
		else
			{
			alert("please choose part-time or full time");
			}
	}
	
	function locBtnClicked()
		{
			localStorage.appTime = appCounter;
			window.location.assign("LocationFilter.html");
		}
	
	function industryBtnClicked()
	{
		localStorage.appTime = appCounter;
		window.location.assign("industryFilter.html");
	}
	
	function hoursBtnClicked()
	{
		localStorage.appTime = appCounter;
		window.location.assign("EmploymentHours.html");
	}
	
	function radiusBtnClicked()
	{
		localStorage.appTime = appCounter;
		window.location.assign("radiusFilter.html");
	}
	
	element.addEventListener('touchstart',function(e) {
		 e.currentTarget.className = "window.location.assign('mainMenu.html')";
		});

	</script>
	
		<div class ="well">
 			<div class ="text-center">
 				<h1>Search Filters</h1>
 			</div>
 		</div>
 		<div class = "btn-toolbar text-center">
       			<label for="loc">Location</label>
    			<input type="text" name="loc" id="loc"/>
       </div>

       <div id="selection">
       <label for="industryList">Industry</label>
	<select id="industryList" multiple data-native-menu="true"></select>
</div>

       <div class = "btn-toolbar text-center">
       		<label for="hoursSelect">Employment Hours</label>
	       	<select id="hoursSelect" data-native-menu="true">
	       		<optgroup>Employment Hours</optgroup>
	       		<option value="full-time" alt="Full time" selected="selected">Full-time</option>
	            <option value="part-time" alt="Part time">Part-time</option>
	        </select>
       </div>

       <div class = "btn-toolbar text-center">
       		<label for="RadiusSlide">Distance</label>
			<input type="range" name="RadiusSlide" id="RadiusSlide" value="10" min="0" max="50" />
       </div>

       <div class = "btn-toolbar text-center">
			<button class = "btn btn-success" onclick="Search()">Search For Jobs</button>
       </div>
        <div class = "btn-toolbar text-center">
        	<button class="btn btn-success" onClick="javascript:window.location.assign('mainMenu.html')">Main Menu</button>
         </div>
       
 	<script src="js/bootstrap.js"></script> 
 		
	</body>
</html>